import{_ as a,c as e,o as s,a9 as i,aa as n,ab as t,ac as p,ad as l,ae as r,af as c,ag as d,ah as o,ai as h,aj as u,ak as b,al as m,am as v,an as g,ao as k,ap as x,aq as y,ar as f,as as _}from"./chunks/framework.DB6jOBuQ.js";const T=JSON.parse('{"title":"Arch","description":"","frontmatter":{},"headers":[],"relativePath":"arch.md","filePath":"arch.md","lastUpdated":1730473831000}'),q={name:"arch.md"},C=i('<h1 id="arch" tabindex="-1">Arch <a class="header-anchor" href="#arch" aria-label="Permalink to &quot;Arch&quot;">​</a></h1><p>驿站的 Arch 笔记</p><h2 id="archinstall" tabindex="-1">archinstall <a class="header-anchor" href="#archinstall" aria-label="Permalink to &quot;archinstall&quot;">​</a></h2><p>进入 live cd 后，输入 <code>archinstall</code> 并按 Enter</p><p><img src="'+n+'" alt=""></p><p>然后看到这个界面</p><p><img src="'+t+'" alt=""></p><ul><li>Mirrors - 选择 China</li><li>Locales - 选择 zh_CN</li><li>Disk encryption - 分区</li><li>BootLoader - 选择 Grub</li><li>Profile - 我使用 KDE</li><li>Network configuration - 我使用 NetworkManager</li></ul><p>安装完成后，它会询问要不要 chroot 到新创建的安装中以进行安装后配置，但我们不需要这样做。因此，选择否来完成安装</p><p><img src="'+p+'" alt=""></p><p>接着我们关机 <code>shutdown now</code></p><p>虚拟机的话，删除碟片，真机就拔出U盘后开机</p><p><img src="'+l+`" alt=""></p><h2 id="软件" tabindex="-1">软件 <a class="header-anchor" href="#软件" aria-label="Permalink to &quot;软件&quot;">​</a></h2><h3 id="wqy-zenhei" tabindex="-1">wqy-zenhei <a class="header-anchor" href="#wqy-zenhei" aria-label="Permalink to &quot;wqy-zenhei&quot;">​</a></h3><p>进入桌面后整个系统的中文都是小方块，所以我们第一件事是安装字体</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo pacman -S wqy-zenhei</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>装好了就重新登陆或者重启</p><h3 id="pacman" tabindex="-1">pacman <a class="header-anchor" href="#pacman" aria-label="Permalink to &quot;pacman&quot;">​</a></h3><h4 id="换源" tabindex="-1">换源 <a class="header-anchor" href="#换源" aria-label="Permalink to &quot;换源&quot;">​</a></h4><details><summary>换源</summary><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo vim /etc/pacman.d/mirrorlist</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在文件的最顶端添加：</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>最后 :wq 保存退出，刷新 pacman 数据库</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo pacman -Syyu</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>参考：<a href="https://mirrors.tuna.tsinghua.edu.cn/help/archlinux/" target="_blank" rel="noreferrer">https://mirrors.tuna.tsinghua.edu.cn/help/archlinux/</a></p></details><h4 id="color" tabindex="-1">color <a class="header-anchor" href="#color" aria-label="Permalink to &quot;color&quot;">​</a></h4><p>编辑 <code>sudo vim /etc/pacman.conf</code></p><p>找到 <code>#color</code> 取消注释即可</p><h4 id="开启-32-位支持库" tabindex="-1">开启 32 位支持库 <a class="header-anchor" href="#开启-32-位支持库" aria-label="Permalink to &quot;开启 32 位支持库&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo vim /etc/pacman.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>去掉 [multilib] 一节中两行的注释，来开启 32 位库支持。</p><p>最后 :wq 保存退出，刷新 pacman 数据库</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo pacman -Syyu</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="添加-archlinuxcn-库" tabindex="-1">添加 archlinuxcn 库 <a class="header-anchor" href="#添加-archlinuxcn-库" aria-label="Permalink to &quot;添加 archlinuxcn 库&quot;">​</a></h4><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[archlinuxcn]</span></span>
<span class="line"><span>Server = https://mirrors.aliyun.com/archlinuxcn/$arch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>:wq 保存退出，刷新 pacman 数据库</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo pacman -Syyu</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="yay" tabindex="-1">yay <a class="header-anchor" href="#yay" aria-label="Permalink to &quot;yay&quot;">​</a></h3><p>先 <a href="#添加-archlinuxcn-库">添加 archlinuxcn 库</a></p><p>接着</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo pacman -S yay</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果遇到：</p><p><img src="`+r+`" alt=""></p><p>在执行</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo pacman -S archlinuxcn-keyring</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>后重新安装 yay</p><h3 id="fcitx5" tabindex="-1">fcitx5 <a class="header-anchor" href="#fcitx5" aria-label="Permalink to &quot;fcitx5&quot;">​</a></h3><p>安装 fcitx5 输入法</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo pacman -S fcitx5-im fcitx5-chinese-addons fcitx5-pinyin-zhwiki</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>fcitx5-im #基础包组</li><li>fcitx5-chinese-addons #官方中文输入引擎</li><li>fcitx5-pinyin-zhwiki #中文维基百科词库</li></ul><p>添加环境变量</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo vim sudoedit /etc/environment</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>写入内容：</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>GTK_IM_MODULE=fcitx</span></span>
<span class="line"><span>QT_IM_MODULE=fcitx</span></span>
<span class="line"><span>XMODIFIERS=@im=fcitx</span></span>
<span class="line"><span>SDL_IM_MODULE=fcitx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="clash-verge" tabindex="-1">clash-verge <a class="header-anchor" href="#clash-verge" aria-label="Permalink to &quot;clash-verge&quot;">​</a></h3><p>梯子</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>yay -S clash-verge-rev-bin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="zsh" tabindex="-1">zsh <a class="header-anchor" href="#zsh" aria-label="Permalink to &quot;zsh&quot;">​</a></h3><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo pacman -Ss zsh oh-my-zsh-git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>更改 shell 为 zsh</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>chsh -s /usr/bin/zsh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>我们去搞默认配置</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>cp /usr/share/oh-my-zsh/zshrc ~/.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>换个主题 找到：</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>ZSH_THEME=&quot;xxx&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>改成 <code>agnoster</code></p><p>再装两个插件</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo pacman -S zsh-autosuggestions zsh-syntax-highlighting</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>zsh-autosuggestions 自动建议插件</li><li>zsh-syntax-highlighting 代码高亮插件</li></ul><p>刷新配置</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>source ~/.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="firefox" tabindex="-1">firefox <a class="header-anchor" href="#firefox" aria-label="Permalink to &quot;firefox&quot;">​</a></h3><p>火狐浏览器</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo pacman -S firefox firefox-i18n-zh-cn</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>firefox # 本体</li><li>firefox-i18n-zh-cn #firefox 中文汉化包</li></ul><h3 id="vscode" tabindex="-1">vscode <a class="header-anchor" href="#vscode" aria-label="Permalink to &quot;vscode&quot;">​</a></h3><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>yay -S visual-studio-code-bin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="linuxqq" tabindex="-1">LinuxQQ <a class="header-anchor" href="#linuxqq" aria-label="Permalink to &quot;LinuxQQ&quot;">​</a></h3><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>yay -S linuxqq liteloader-qqnt-bin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>linuxqq #QQNT</li><li>liteloader-qqnt-bin #插件加载器</li></ul><p>插件列表查看：<a href="https://github.com/ltxhhz/LL-plugin-list-viewer/" target="_blank" rel="noreferrer">https://github.com/ltxhhz/LL-plugin-list-viewer/</a></p><h3 id="java" tabindex="-1">Java <a class="header-anchor" href="#java" aria-label="Permalink to &quot;Java&quot;">​</a></h3><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>yay -S zulu-8-bin zulu-21-bin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="hmcl" tabindex="-1">HMCL <a class="header-anchor" href="#hmcl" aria-label="Permalink to &quot;HMCL&quot;">​</a></h3><p>先安装 <a href="#java">Java</a> 以及 <a href="#添加-archlinuxcn-库">添加 archlinuxcn 库</a></p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo yay -S hmcl-dev-bin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="timeshift" tabindex="-1">TimeShift <a class="header-anchor" href="#timeshift" aria-label="Permalink to &quot;TimeShift&quot;">​</a></h3><p>快照</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo pacman -S timeshift</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="neofetch" tabindex="-1">neofetch <a class="header-anchor" href="#neofetch" aria-label="Permalink to &quot;neofetch&quot;">​</a></h3><p>就是这玩意</p><p><img src="`+c+'" alt=""></p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo pacman -S neofetch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="多系统" tabindex="-1">多系统 <a class="header-anchor" href="#多系统" aria-label="Permalink to &quot;多系统&quot;">​</a></h2><h3 id="引导" tabindex="-1">引导 <a class="header-anchor" href="#引导" aria-label="Permalink to &quot;引导&quot;">​</a></h3><p>如果在 Grub 里看不到 Windows</p><p>先去 PE 系统修复 Windows 的引导</p><p><img src="'+d+'" alt=""></p><p>安装 <a href="https://archlinux.org/packages/extra/x86_64/os-prober/" target="_blank" rel="noreferrer">os-prober</a></p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo pacman -S os-prober</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>接下来运行它</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo os-prober</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+o+'" alt=""></p><p>编辑 Grub 的配置文件，找到 <code>GRUB_DISABLE_OS_PROBER</code> 取消注释（即设置为false）</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo vim /etc/default/grub</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>然后生成 Grub 所需的配置文件</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo grub-mkconfig -o /boot/grub/grub.cfg</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+h+'" alt=""></p><p>参考：<a href="https://wiki.archlinuxcn.org/wiki/GRUB#%E6%8E%A2%E6%B5%8B%E5%85%B6%E4%BB%96%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" target="_blank" rel="noreferrer">archlinuxcn 维基</a></p><h3 id="时间" tabindex="-1">时间 <a class="header-anchor" href="#时间" aria-label="Permalink to &quot;时间&quot;">​</a></h3><p>如果你的机器是 ArchLinux + Windows 双系统，那么请按照以下操作同步时间，使切换系统时时间不会错乱</p><p>ArchLinux 下执行：</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>timedatectl set-local-rtc 0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Windows 管理员权限下执行：</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>reg add &quot;HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Control\\TimeZoneInformation&quot; /v RealTimeIsUniversal /d 1 /t REG_DWORD /f</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="快速启动" tabindex="-1">快速启动 <a class="header-anchor" href="#快速启动" aria-label="Permalink to &quot;快速启动&quot;">​</a></h3><p>打开 Windows 控制面板，按下图操作</p><p><img src="'+u+'" alt=""></p><p><img src="'+b+'" alt=""></p><p>点击 <code>更改当前不可用的设置</code> 后取消 <code>启用快速启动的对钩</code></p><p>这里我已经取消了</p><p><img src="'+m+'" alt=""></p><h2 id="美化" tabindex="-1">美化 <a class="header-anchor" href="#美化" aria-label="Permalink to &quot;美化&quot;">​</a></h2><p>其实哪有什么美化，调一点东西而已</p><h3 id="应用程序启动器" tabindex="-1">应用程序启动器 <a class="header-anchor" href="#应用程序启动器" aria-label="Permalink to &quot;应用程序启动器&quot;">​</a></h3><p>右键 <code>应用程序启动器</code> 选择配置</p><p>更改图标</p><p><img src="'+v+'" alt=""></p><p>选择 <code>其他</code> 找到 ArchLinux 的 logo</p><p><img src="'+g+'" alt=""></p><h3 id="顶栏" tabindex="-1">顶栏 <a class="header-anchor" href="#顶栏" aria-label="Permalink to &quot;顶栏&quot;">​</a></h3><p>面板位置设置到上方</p><p>挂件依次是：</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>应用程序启动器 虚拟桌面切换器 面板间隙 数字时钟 面板间隙 系统托盘</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+k+'" alt=""></p><p><img src="'+x+'" alt=""></p><h3 id="dock栏" tabindex="-1">Dock栏 <a class="header-anchor" href="#dock栏" aria-label="Permalink to &quot;Dock栏&quot;">​</a></h3><p><img src="'+y+'" alt=""></p><p><img src="'+f+'" alt=""></p><h2 id="展示" tabindex="-1">展示 <a class="header-anchor" href="#展示" aria-label="Permalink to &quot;展示&quot;">​</a></h2><p>换个桌面，最后看起来是这样</p><p><img src="'+_+'" alt=""></p>',138),w=[C];function P(S,z,E,L,B,D){return s(),e("div",null,w)}const M=a(q,[["render",P]]);export{T as __pageData,M as default};
